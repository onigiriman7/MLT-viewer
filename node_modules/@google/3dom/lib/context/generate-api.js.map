{"version":3,"file":"generate-api.js","sourceRoot":"","sources":["../../src/context/generate-api.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;GAaG;AAEH,OAAO,EAAC,WAAW,EAAC,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAC,cAAc,EAAC,MAAM,oBAAoB,CAAC;AAClD,OAAO,EAAC,iBAAiB,EAAC,MAAM,wBAAwB,CAAC;AACzD,OAAO,EAAC,WAAW,EAAC,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAC,0BAA0B,EAAC,MAAM,kCAAkC,CAAC;AAC5E,OAAO,EAAC,aAAa,EAAC,MAAM,mBAAmB,CAAC;AAChD,OAAO,EAAC,iBAAiB,EAAC,MAAM,wBAAwB,CAAC;AACzD,OAAO,EAAC,aAAa,EAAC,MAAM,mBAAmB,CAAC;AAChD,OAAO,EAAC,qBAAqB,EAAC,MAAM,6BAA6B,CAAC;AAClE,OAAO,EAAC,mBAAmB,EAAC,MAAM,gBAAgB,CAAC;AAEnD,MAAM,CAAC,MAAM,WAAW,GAAG,GAAG,EAAE,CAAC;4BACL,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC;;EAE7D,iBAAiB,CAAC,QAAQ,EAAE;EAC5B,qBAAqB,CAAC,QAAQ,EAAE;EAChC,WAAW,CAAC,QAAQ,EAAE;EACtB,cAAc,CAAC,QAAQ,EAAE;EACzB,0BAA0B,CAAC,QAAQ,EAAE;EACrC,aAAa,CAAC,QAAQ,EAAE;EACxB,WAAW,CAAC,QAAQ,EAAE;EACtB,aAAa,CAAC,QAAQ,EAAE;EACxB,iBAAiB,CAAC,QAAQ,EAAE;;wBAEN,qBAAqB,CAAC,IAAI;cACpC,WAAW,CAAC,IAAI;iBACb,cAAc,CAAC,IAAI;6BACP,0BAA0B,CAAC,IAAI;gBAC5C,aAAa,CAAC,IAAI;cACpB,WAAW,CAAC,IAAI;gBACd,aAAa,CAAC,IAAI;oBACd,iBAAiB,CAAC,IAAI;;oBAEtB,iBAAiB,CAAC,IAAI;;;;;;;;;;;;;;;;;;;;;;CAsBzC,CAAC","sourcesContent":["/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {defineImage} from '../api/image.js';\nimport {defineMaterial} from '../api/material.js';\nimport {defineModelKernel} from '../api/model-kernel.js';\nimport {defineModel} from '../api/model.js';\nimport {definePBRMetallicRoughness} from '../api/pbr-metallic-roughness.js';\nimport {defineSampler} from '../api/sampler.js';\nimport {defineTextureInfo} from '../api/texture-info.js';\nimport {defineTexture} from '../api/texture.js';\nimport {defineThreeDOMElement} from '../api/three-dom-element.js';\nimport {ThreeDOMMessageType} from '../protocol.js';\n\nexport const generateAPI = () => `\nvar ThreeDOMMessageType = ${JSON.stringify(ThreeDOMMessageType)};\n\n${defineModelKernel.toString()}\n${defineThreeDOMElement.toString()}\n${defineModel.toString()}\n${defineMaterial.toString()}\n${definePBRMetallicRoughness.toString()}\n${defineSampler.toString()}\n${defineImage.toString()}\n${defineTexture.toString()}\n${defineTextureInfo.toString()}\n\nvar ThreeDOMElement = ${defineThreeDOMElement.name}();\nvar Model = ${defineModel.name}(ThreeDOMElement);\nvar Material = ${defineMaterial.name}(ThreeDOMElement);\nvar PBRMetallicRoughness = ${definePBRMetallicRoughness.name}(ThreeDOMElement);\nvar Sampler = ${defineSampler.name}(ThreeDOMElement);\nvar Image = ${defineImage.name}(ThreeDOMElement);\nvar Texture = ${defineTexture.name}(ThreeDOMElement);\nvar TextureInfo = ${defineTextureInfo.name}(ThreeDOMElement);\n\nvar ModelKernel = ${defineModelKernel.name}(\n  ThreeDOMMessageType,\n  ThreeDOMElement,\n  Model,\n  Material,\n  PBRMetallicRoughness,\n  Sampler,\n  Image,\n  Texture,\n  TextureInfo\n);\n\n// Populate the global scope with constructors\n// so that author code can use instanceof checks\nself.ThreeDOMElement = ThreeDOMElement;\nself.Model = Model;\nself.Material = Material;\nself.PBRMetallicRoughness = PBRMetallicRoughness;\nself.Sampler = Sampler;\nself.Image = Image;\nself.Texture = Texture;\nself.TextureInfo = TextureInfo;\n`;\n"]}